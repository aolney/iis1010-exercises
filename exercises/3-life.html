<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252"><script src="../scripts/pencilcodeguide.js"></script>
<script>

function filterblocks(a) {
  // Show 'say' block only on browsers that support speech synthesis.
  if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) {
    a = a.filter(function(b) { return !/^@?say\b/.test(b.block); });
  }
  // Show 'listen' blocks only on browsers that support speech recognition.
  if (!window.webkitSpeechRecognition || window.SpeechRecognition) {
    a = a.filter(function(b) { return !/\blisten\b/.test(b.block); });
  }
  return a.map(function(e) {
    if (!e.id) {
      // As the id (for logging), use the first (non-puncutation) word
      e.id = e.block.replace(/^\W*/, '').
             replace(/^new /, '').replace(/\W.*$/, '');
      // If that doesn't turn into anything, use the whole block text.
      if (!e.id) { e.id = e.block; }
    }
    return e;
  });
}

//  This is where we customize the blocks palette 
PencilCodeGuide.session(
{
  palette : [
    {
      name: 'Move',
      color: 'lightblue',
      blocks: filterblocks([
        {
          block: '@fd 100',
          title: 'Move forward'
        }, {
          block: '@rt 90',
          title: 'Turn right'
        }, 
        {
          block: '@lt 90',
          title: 'Turn left'
        }, {
          block: '@bk 100',
          title: 'Move backward'
        }, 
        // {
        //   block: '@rt 180, 100',
        //   title: 'Make a wide right arc'
        // }, {
        //   block: '@lt 180, 100',
        //   title: 'Make a wide left arc'
        // }, 
        {
          block: '@speed 10',
          title: 'Set the speed of the turtle'
        }, 
        // {
        //   block: '@speed Infinity',
        //   title: 'Use infinite speed'
        // }, 
        // {
        //   block: '@home()',
        //   title: 'Jump to the origin, turned up'
        // }, {
        //   block: '@turnto 270',
        //   title: 'Turn to an absolute direction'
        // }, {
        //   block: '@moveto 100, 50',
        //   title: 'Move to coordinates'
        // }, {
        //   block: '@movexy 30, 20',
        //   title: 'Move by changing x and y'
        // }, 
        {
          block: '@jumpto 100, 50',
          title: 'Jump to coordinates without drawing'
        }, 
        // {
        //   block: '@jumpxy 30, 20',
        //   title: 'Jump changing x and y without drawing'
        // }, {
        //   block: '@pause 5',
        //   title: 'Do not move for five seconds'
        // }
      ])
    }, {
      name: 'Control',
      color: 'orange',
      blocks: filterblocks([
        // {
        //   block: 'for [1..3]\n  ``',
        //   title: 'Do something multiple times'
        // }, {
        //   block: 'for x in [0...10]\n  ``',
        //   title: 'Repeat something while counting up x'
        // }, {
        //   block: 'while `` < ``\n  ``',
        //   title: '  Repeat while a condition is true'
        // }, 
        // {
        //   block: 'if `` is ``\n  ``',
        //   title: 'Do something only if a condition is true'
        // }, 
        {
          block: 'if `` > ``\n  ``',
          title: 'Do something only if the left hand side is greater than the right'
        }, 
        // {
        //   block: 'if `` is ``\n  ``\nelse\n  ``',
        //   title:
        //       'Do something if a condition is true, otherwise something else',
        //   id: 'ifelse'
        // }, {
        //   block: "forever 1, ->\n  ``",
        //   title: 'Repeat something forever at qually-spaced times'
        // }, {
        //   block: "button \'Click\', ->\n  ``",
        //   title: 'Make a button and do something when clicked'
        // }, {
        //   block: "keydown \'X\', ->\n  ``",
        //   title: 'Do something when a keyboard key is pressed'
        // }, {
        //   block: "click (e) ->\n  ``",
        //   title: 'Do something when the mouse is clicked'
        // }
      ])
    }, {
      name: 'Art',
      color: 'purple',
      blocks: filterblocks([
         {
          block: '@pen purple, 10',
          title: 'Set pen color and size'
        }, 
        // {
        //   block: '@dot green, 50',
        //   title: 'Make a dot'
        // }, {
        //   block: '@box yellow, 50',
        //   title: 'Make a square'
        // }, {
        //   block: '@fill blue',
        //   title: 'Fill traced shape'
        // }, {
        //   block: '@wear \'apple\'',
        //   title: 'Use an image for the turtle'
        // }, {
        //   block: 'img \'/img/bird\'',
        //   title: 'Write an image on the screen'
        // }, {
        //   block: '@grow 3',
        //   title: 'Grow the size of the turtle'
        // }, {
        //   block: '@hide()',
        //   title: 'Hide the main turtle'
        // }, {
        //   block: '@show()',
        //   title: 'Show the main turtle'
        // }, {
        //   block: 'cs()',
        //   title: 'Clear screen'
        // }, {
        //   block: '@pu()',
        //   title: 'Lift the pen up'
        // }, {
        //   block: '@pd()',
        //   title: 'Put the pen down'
        // }, {
        //   block: '@drawon s',
        //   title: 'Draw on sprite s'
        // }, {
        //   block: '@drawon document',
        //   title: 'Draw on the document'
        // }
      ])
    }, {
      name: 'Operators',
      color: 'lightgreen',
      blocks: filterblocks([
        {
          block: 'x = 0',
          title: 'Set a variable',
          id: 'assign'
        }, 
        // {
        //   block: 'x += 1',
        //   title: 'Increase a variable',
        //   id: 'increment'
        // }, 
        {
          block: 'f = (x) ->\n  ``',
          title: 'Define a new function',
          id: 'funcdef'
        }, {
          block: 'f(x)',
          title: 'Use a custom function',
          id: 'funccall'
        }, 
        // {
        //   block: '`` is ``',
        //   title: 'Compare two values',
        //   id: 'is'
        // }, 
        // {
        //   block: '`` < ``',
        //   title: 'Compare two values',
        //   id: 'lessthan'
        // }, 
        {
          block: '`` > ``',
          title: 'Compare two values',
          id: 'greaterthan'
        }, {
          block: '`` + ``',
          title: 'Add two numbers',
          id: 'add'
        }, {
          block: '`` - ``',
          title: 'Subtract two numbers',
          id: 'subtract'
        }, {
          block: '`` * ``',
          title: 'Multiply two numbers',
          id: 'multiply'
        }, {
          block: '`` / ``',
          title: 'Divide two numbers',
          id: 'divide'
        }, 
        // {
        //   block: '`` and ``',
        //   title: 'True if both are true',
        //   id: 'and'
        // }, {
        //   block: '`` or ``',
        //   title: 'True if either is true',
        //   id: 'or'
        // }, {
        //   block: 'not ``',
        //   title: 'True if input is false',
        //   id: 'not'
        // }, 
        {
          block: 'random 6',
          title: 'Get a random number less than n'
        }, 
        // {
        //   block: 'round ``',
        //   title: 'Round to the nearest integer'
        // }, {
        //   block: 'abs ``',
        //   title: 'Absolute value'
        // }, {
        //   block: 'max ``, ``',
        //   title: 'Get the larger of two numbers'
        // }, {
        //   block: 'min ``, ``',
        //   title: 'Get the smaller on two numbers'
        // }, {
        //   block: 'x.match /pattern/',
        //   title: 'Test if a text pattern is found in x',
        //   id: 'match'
        // }
      ])
    }, {
      name: 'Text',
      color: 'pink',
      blocks: filterblocks([
        {
          block: 'write \'Hello.\'',
          title: 'Write text in the document'
        }, 
        // {
        //   block: 'debug x',
        //   title: 'Log an object to debug'
        // }, {
        //   block: 'type \'zz*(-.-)*zz\'',
        //   title: 'Typewrite text in the document'
        // }, {
        //   block: 'typebox yellow',
        //   title: 'Type out a colored square'
        // }, {
        //   block: 'typeline()',
        //   title: 'Type in a new line'
        // }, {
        //   block: '@label \'spot\'',
        //   title: 'Write text at the turtle'
        // }, {
        //   block: "await read '?', defer x",
        //   title: "Pause for input from the user"
        // }, {
        //   block: "await readnum '?', defer x",
        //   title: "Pause for a number from the user"
        // }, {
        //   block: 'read \'?\', (x) ->\n  write x',
        //   title: 'Send input from the user to a function'
        // }, {
        //   block: 'readnum \'?\', (x) ->\n  write x',
        //   title: 'Send a number from the user to a function'
        // }
      ])
    }, 
    //{
    //   name: 'Sprites',
    //   color: 'teal',
    //   blocks: filterblocks([
    //     {
    //       block: 't = new Turtle red',
    //       title: 'Make a new turtle',
    //       id: 'newturtle'
    //     }, {
    //       block: 's = new Sprite()',
    //       title: 'Make a blank sprite',
    //       id: 'newsprite'
    //     }, {
    //       block: 'p = new Piano()',
    //       title: 'Make a visible instrument',
    //       id: 'newpiano'
    //     }, {
    //       block: 'q = new Pencil()',
    //       title: 'Make an invisible and fast drawing sprite'
    //     }, {
    //       block: 'if @touches x\n  ``',
    //       title: 'Do something only if touching the object x'
    //     }, {
    //       block: 'if @inside window\n  ``',
    //       title: 'Do something only if inside the window'
    //     }
    //   ])
    // }, {
    //   name: 'Sound',
    //   color: 'indigo',
    //   blocks: filterblocks([
    //     {
    //       block: '@play \'c G/G/ AG z\'',
    //       title: 'Play music notes in sequence'
    //     }, {
    //       block: '@play \'[fA] [ecG]2\'',
    //       title: 'Play notes in a chord'
    //     }, {
    //       block: '@tone \'B\', 2, 1',
    //       title: 'Sound a note immediately',
    //       id: 'toneNote'
    //     }, {
    //       block: '@tone \'B\', 0',
    //       title: 'Silence a note immediately',
    //       id: 'toneNote0'
    //     }, {
    //       block: '@tone 440, 2, 1',
    //       title: 'Sound a frequency immediately',
    //       id: 'toneHz'
    //     }, {
    //       block: '@tone 440, 0',
    //       title: 'Silence a frequency immediately',
    //       id: 'toneHz0'
    //     }, {
    //       block: '@silence()',
    //       title: 'Silence all notes'
    //     }, {
    //       block: "await listen defer x",
    //       title: "Pause for spoken words from the user"
    //     }, {
    //       block: 'listen (x) ->\n  write x',
    //       title: 'Send spoken words from the user to a function'
    //     }, {
    //       block: '@say \'hello\'',
    //       title: 'Speak a word'
    //     }, {
    //       block: 'new Audio(url).play()',
    //       expansion: '(new Audio(\'https://upload.wikimedia.org/wikipedia/commons/1/11/06_-_Vivaldi_Summer_mvt_3_Presto_-_John_Harrison_violin.ogg\')).play()',
    //       title: 'Play an audio file'
    //     }
    //   ])
    // }, 
    {
      name: 'Snippets',
      color: 'deeporange',
      blocks: filterblocks([
        {
          block: "(survival = [2, 3]\nbirth = [3])",
          title: "rules for game of life",
          id: "life-rules"
        },
        {
          block: "(update = (alive, adjacent) ->\n  if alive\n    return adjacent in survival\n  else\n    return adjacent in birth)",
          title: "update function for game of life",
          id: "life-update"
        },
        {
          block: "(do -> \n\n  rows = 20\n  cols = 20\n\n  board = ((0 for [0...cols]) for [0...rows])\n  \n  \n  grid = table rows, cols,\n    width: 300/cols, height: 300/cols\n    font: Math.floor(260/cols) + 'px Arial'\n    cursor: 'default'\n  \n  \n  adv = button 'advance', ->\n    next = []\n    for row in [0...rows]\n      nextrow = []\n      for col in [0...cols]\n        n = neighbors(row, col)\n        nextrow.push if update(board[row][col], n) then 1 else 0\n      next.push nextrow\n    board = next\n    draw()\n  \n  \n  draw = ->\n    for row in [0...rows]\n      for col in [0...cols]\n        \n        n = neighbors(row, col) or ''\n        grid.cell(row, col).text(n)\n        c = board[row][col]\n        b = if c > 0 then 'orange' else 'white'\n        grid.cell(row, col).css background: b\n  \n  \n  neighbors = (row, col) ->\n    wrap = (x, limit) -> (x + limit) % limit\n    sum = 0\n    for r in [row - 1 .. row + 1]\n      for c in [col - 1 .. col + 1]\n        if r isnt row or c isnt col\n          sum += board[wrap(r, rows)][wrap(c, cols)]\n    return sum\n  \n  \n  grid.cell().click (e) ->\n    col = $(this).index()\n    row = $(this).closest('tr').index()\n    board[row][col] = 1 - board[row][col]\n    draw()\n  \n  \n  going = false\n  toggle = button 'start', ->\n    going = not going\n    toggle.text if going then 'stop' else 'start'\n    if going\n      forever 1, ->\n        adv.click()\n        cells = $('td').length\n        dead = $('td:empty').length\n        if cells == dead\n          toggle.click()\n    else\n      stop()\n\n  \n  $('table,button').wrap('\x3Ccenter>')\n  $('button').css('font-size', '90%').css('margin-top', '5px')\n  draw())",
          title: "setup function for game of life",
          id: "life-setup"
        }
        // {
        //   block: "forever 10, ->\n  turnto lastmouse\n  fd 2",
        //   title: 'Continually move towards the last mouse position',
        //   id: "foreverFollowMouse"
        // }, {
        //   block: "forever 10, ->\n  if pressed 'W'\n    fd 2",
        //   title: 'Poll a key and move while it is depressed',
        //   id: "foreverPollKey"
        // }, {
        //   block: "forever 1, ->\n  fd 25\n  if not inside window\n    stop()",
        //   title: 'Move once per second until not inside window',
        //   id: "foreverInsideWindow"
        // }, {
        //   block: "click (e) ->\n  moveto e",
        //   title: 'Move to a location when document is clicked',
        //   id: "foreverMovetoClick"
        // }, {
        //   block: "button \'Click\', ->\n  write 'clicked'",
        //   title: 'Make a button and do something when clicked',
        //   id: "buttonWrite"
        // }, {
        //   block: "keydown \'X\', ->\n  write 'x pressed'",
        //   title: 'Do something when a keyboard key is pressed',
        //   id: "keydownWrite"
        // }, {
        //   block: "click (e) ->\n  moveto e",
        //   title: 'Move to a location when document is clicked',
        //   id: "clickMove"
        // }
      ])
    }
  ]
}
);
</script>
</head><body><h1>The Game of Life</h1>

<p>This is a two dimensional cellular automata.</p>

<p>Don't worry that the code is complicated! 
  We have to draw the grid and do a lot of other things. </p> 

<p>Check the Snippets palette and get the rules, the update, and the main block, then run the program.</p>

<p>Once the program is running, you can click on the grid and then 
  use "advance" or "start" to run the update function.
</p>

<p>Below are some example patterns from Wikipedia.</p>

<div>


    <table class="multicol" role="presentation" style="border-collapse: collapse; padding: 0; border: 0; background:transparent; width:auto; margin:auto;"><tbody><tr>
    <td style="text-align: left; vertical-align: top;">
    <table class="wikitable">
    
    <tbody><tr>
    <th colspan="2">Still lifes
    </th></tr>
    <tr>
    <td>Block
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_block_with_border.svg" class="image"><img alt="Game of life block with border.svg" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/96/Game_of_life_block_with_border.svg/66px-Game_of_life_block_with_border.svg.png" decoding="async" width="66" height="66" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/96/Game_of_life_block_with_border.svg/99px-Game_of_life_block_with_border.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/96/Game_of_life_block_with_border.svg/132px-Game_of_life_block_with_border.svg.png 2x" data-file-width="66" data-file-height="66"></a>
    </td></tr>
    <tr>
    <td>Beehive
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_beehive.svg" class="image"><img alt="Game of life beehive.svg" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/67/Game_of_life_beehive.svg/98px-Game_of_life_beehive.svg.png" decoding="async" width="98" height="82" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/67/Game_of_life_beehive.svg/147px-Game_of_life_beehive.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/67/Game_of_life_beehive.svg/196px-Game_of_life_beehive.svg.png 2x" data-file-width="98" data-file-height="82"></a>
    </td></tr>
    <tr>
    <td>Loaf
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_loaf.svg" class="image"><img alt="Game of life loaf.svg" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Game_of_life_loaf.svg/98px-Game_of_life_loaf.svg.png" decoding="async" width="98" height="98" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Game_of_life_loaf.svg/147px-Game_of_life_loaf.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Game_of_life_loaf.svg/196px-Game_of_life_loaf.svg.png 2x" data-file-width="98" data-file-height="98"></a>
    </td></tr>
    <tr>
    <td>Boat
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_boat.svg" class="image"><img alt="Game of life boat.svg" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Game_of_life_boat.svg/82px-Game_of_life_boat.svg.png" decoding="async" width="82" height="82" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Game_of_life_boat.svg/123px-Game_of_life_boat.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Game_of_life_boat.svg/164px-Game_of_life_boat.svg.png 2x" data-file-width="82" data-file-height="82"></a>
    </td></tr>
    <tr>
    <td>Tub
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_flower.svg" class="image"><img alt="Game of life flower.svg" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/31/Game_of_life_flower.svg/82px-Game_of_life_flower.svg.png" decoding="async" width="82" height="82" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/31/Game_of_life_flower.svg/123px-Game_of_life_flower.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/31/Game_of_life_flower.svg/164px-Game_of_life_flower.svg.png 2x" data-file-width="82" data-file-height="82"></a>
    </td></tr></tbody></table>
    <p> 
    </p>
    </td>
    <td style="text-align: left; vertical-align: top; padding-left: 1em;">
    <table class="wikitable">
    
    <tbody><tr>
    <th colspan="2">Oscillators
    </th></tr>
    <tr>
    <td>Blinker (period 2)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_blinker.gif" class="image"><img alt="Game of life blinker.gif" src="//upload.wikimedia.org/wikipedia/commons/9/95/Game_of_life_blinker.gif" decoding="async" width="82" height="82" data-file-width="82" data-file-height="82"></a>
    </td></tr>
    <tr>
    <td>Toad (period 2)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_toad.gif" class="image"><img alt="Game of life toad.gif" src="//upload.wikimedia.org/wikipedia/commons/1/12/Game_of_life_toad.gif" decoding="async" width="98" height="98" data-file-width="98" data-file-height="98"></a>
    </td></tr>
    <tr>
    <td>Beacon (period 2)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_beacon.gif" class="image"><img alt="Game of life beacon.gif" src="//upload.wikimedia.org/wikipedia/commons/1/1c/Game_of_life_beacon.gif" decoding="async" width="98" height="98" data-file-width="98" data-file-height="98"></a>
    </td></tr>
    <tr>
    <td>Pulsar (period 3)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_pulsar.gif" class="image"><img alt="Game of life pulsar.gif" src="//upload.wikimedia.org/wikipedia/commons/0/07/Game_of_life_pulsar.gif" decoding="async" width="137" height="137" data-file-width="137" data-file-height="137"></a>
    </td></tr>
    <tr>
    <td>Pentadecathlon (period 15)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:I-Column.gif" class="image"><img alt="I-Column.gif" src="//upload.wikimedia.org/wikipedia/commons/f/fb/I-Column.gif" decoding="async" width="89" height="145" data-file-width="89" data-file-height="145"></a>
    </td></tr></tbody></table>
    <p> 
    </p>
    </td>
    <td style="text-align: left; vertical-align: top; padding-left: 1em;">
    <table class="wikitable">
    
    <tbody><tr>
    <th colspan="2">Spaceships
    </th></tr>
    <tr>
    <td>Glider
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_animated_glider.gif" class="image"><img alt="Game of life animated glider.gif" src="//upload.wikimedia.org/wikipedia/commons/f/f2/Game_of_life_animated_glider.gif" decoding="async" width="84" height="84" data-file-width="84" data-file-height="84"></a>
    </td></tr>
    <tr>
    <td>Lightweight spaceship (LWSS)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Game_of_life_animated_LWSS.gif" class="image"><img alt="Game of life animated LWSS.gif" src="//upload.wikimedia.org/wikipedia/commons/3/37/Game_of_life_animated_LWSS.gif" decoding="async" width="126" height="98" data-file-width="126" data-file-height="98"></a>
    </td></tr>
    <tr>
    <td>Middleweight spaceship (MWSS)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Animated_Mwss.gif" class="image"><img alt="Animated Mwss.gif" src="//upload.wikimedia.org/wikipedia/commons/4/4e/Animated_Mwss.gif" decoding="async" width="162" height="146" data-file-width="162" data-file-height="146"></a>
    </td></tr>
    <tr>
    <td>Heavyweight spaceship (HWSS)
    </td>
    <td><a href="https://en.wikipedia.org/wiki/File:Animated_Hwss.gif" class="image"><img alt="Animated Hwss.gif" src="//upload.wikimedia.org/wikipedia/commons/4/4f/Animated_Hwss.gif" decoding="async" width="178" height="146" data-file-width="178" data-file-height="146"></a>
    </td></tr></tbody></table>
    <p> 
    </p>
    </td></tr></tbody></table></div>

</body></html>
